<?xml version="1.0" ?>


<!-- Test that tests hier DES and  multiple connections in DES
     Combined two incrementors one crossed to another
     -->


<!DOCTYPE node SYSTEM "../etc/objspec.dtd"> 

<node id="testroot" parent="Elem">
    <!-- Module containing components of system layer -->
    <node id="file:../modules/syst.xml#SysComps" />
    <!-- Module containing components of incaps layer -->
    <node id="file:../modules/capsula.xml#IncapsComps" />
    <!-- Module containing components of data -->
    <node id="file:../modules/data.xml#DataComps" />
    <!-- Module containing components of func -->
    <node id="file:../modules/func.xml#FuncComps" />
    <!-- Module containing components of des layer -->
    <node id="file:../modules/des.xml#DesComps" />

    <node id="TestDes" parent="DesComps/Des">

	<add node="Capsule">
	    <!-- Output: Mass -->
	    <node id="Out" parent="../../DesComps/StIntOut"/> 
	</add>

	<!-- Incrementor 1 -->
	<node id="Incr1" parent="../DesComps/StateInt">
	    <!-- <cont node="DataSInt:Confirmed/Value" val="34"/> -->

	    <node id="Logspec" parent="Elem">
		<node id="Creation" parent="Elem">
		</node>
	    </node>

	    <add node="Confirmed">
		<node id="Logspec" parent="Elem">
		    <node id="Update" parent="../../../../DataComps/DataLogevent">
		    </node>
		</node>
	    </add>

	    <node id="Trans" parent="../../DesComps/TrIncInt">
	    </node>

	    <node parent="Edge"> 
		<cont node="P1" val="Trans/Inp"/> 
		<cont node="P2" val="Capsule/Inp/Int/PinData"/> 
	    </node>

	    <node parent="Edge"> 
		<cont node="P1" val="Trans/Out"/> 
		<cont node="P2" val="Prepared/Capsule/Inp"/> 
	    </node>

	</node>


	<!-- Incrementor 2 -->
	<node id="Incr2" parent="Incr1">
	</node>

	<!-- Incrementor1 Loop -->
	<node parent="Edge"> 
	    <cont node="P1" val="Incr1/Capsule/Out"/> 
	    <cont node="P2" val="Incr1/Capsule/Inp"/> 
	</node>

	<!-- Incrementor2 Loop -->
	<node parent="Edge"> 
	    <cont node="P1" val="Incr2/Capsule/Out"/> 
	    <cont node="P2" val="Incr2/Capsule/Inp"/> 
	</node>

	<!-- DES output -->
	<node parent="Edge"> <cont node="P1" val="Incr2/Capsule/Out"/> <cont node="P2" val="Capsule/Out/Int"/> </node>

    </node> <!-- test -->

</node> <!-- testroot -->

